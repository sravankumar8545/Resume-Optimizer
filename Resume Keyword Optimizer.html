<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Resume Keyword Optimizer</title>
    <style>
        :root {
            --color-bg-primary: #fcfcf9;
            --color-bg-secondary: #fffffd;
            --color-text-primary: #13343b;
            --color-text-secondary: #626c7c;
            --color-accent: #21808d;
            --color-accent-hover: #1d7480;
            --color-border: rgba(94, 82, 64, 0.2);
            --color-success: #21808d;
            --color-warning: #a84b2f;
            --color-danger: #c0152f;
            --color-card-bg: #fffffd;
        }

        @media (prefers-color-scheme: dark) {
            :root {
                --color-bg-primary: #1f2121;
                --color-bg-secondary: #262828;
                --color-text-primary: #f5f5f5;
                --color-text-secondary: #a7a9a9;
                --color-border: rgba(119, 124, 124, 0.3);
                --color-card-bg: #262828;
                --color-success: #32b8c6;
                --color-warning: #e68161;
                --color-danger: #ff5459;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            line-height: 1.6;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: 10px;
        }

        .header p {
            color: var(--color-text-secondary);
            font-size: 1.1em;
            max-width: 700px;
            margin: 0 auto;
        }

        .main-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .full-width {
            grid-column: 1 / -1;
        }

        .card {
            background: var(--color-card-bg);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border: 1px solid var(--color-border);
        }

        .card-title {
            font-size: 1.3em;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--color-text-primary);
            font-size: 0.95em;
        }

        .form-textarea {
            width: 100%;
            padding: 15px;
            border: 2px solid var(--color-border);
            border-radius: 8px;
            font-size: 0.95em;
            background: var(--color-bg-primary);
            color: var(--color-text-primary);
            font-family: inherit;
            resize: vertical;
            min-height: 200px;
            line-height: 1.6;
            transition: border-color 0.3s;
        }

        .form-textarea:focus {
            outline: none;
            border-color: var(--color-accent);
        }

        .btn {
            padding: 14px 28px;
            border: none;
            border-radius: 8px;
            font-size: 1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 10px;
        }

        .btn-primary {
            background: var(--color-accent);
            color: white;
            width: 100%;
            justify-content: center;
        }

        .btn-primary:hover {
            background: var(--color-accent-hover);
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(33, 128, 141, 0.3);
        }

        .btn-secondary {
            background: rgba(94, 82, 64, 0.12);
            color: var(--color-text-primary);
            border: 2px solid var(--color-border);
        }

        .btn-secondary:hover {
            background: rgba(94, 82, 64, 0.2);
        }

        .match-score {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            padding: 30px;
            background: linear-gradient(135deg, var(--color-accent) 0%, #1d7480 100%);
            border-radius: 12px;
            margin-bottom: 30px;
            color: white;
        }

        .score-circle {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border: 4px solid rgba(255, 255, 255, 0.5);
        }

        .score-number {
            font-size: 2.5em;
            font-weight: 700;
        }

        .score-label {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .score-details {
            flex: 1;
        }

        .score-details h3 {
            font-size: 1.3em;
            margin-bottom: 10px;
        }

        .score-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 15px;
        }

        .score-bar-fill {
            height: 100%;
            background: white;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .keyword-section {
            margin-bottom: 25px;
        }

        .keyword-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 12px;
            margin-top: 15px;
        }

        .keyword-tag {
            padding: 10px 15px;
            border-radius: 8px;
            font-size: 0.9em;
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 10px;
            transition: transform 0.2s;
        }

        .keyword-tag:hover {
            transform: translateY(-2px);
        }

        .keyword-matched {
            background: rgba(33, 128, 141, 0.15);
            border: 2px solid var(--color-success);
            color: var(--color-success);
        }

        .keyword-missing {
            background: rgba(192, 21, 47, 0.15);
            border: 2px solid var(--color-danger);
            color: var(--color-danger);
        }

        .keyword-partial {
            background: rgba(168, 75, 47, 0.15);
            border: 2px solid var(--color-warning);
            color: var(--color-warning);
        }

        .keyword-name {
            flex: 1;
            font-weight: 600;
        }

        .keyword-count {
            background: rgba(0, 0, 0, 0.1);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.85em;
            font-weight: 700;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .stat-card {
            padding: 20px;
            background: var(--color-bg-primary);
            border-radius: 8px;
            border: 1px solid var(--color-border);
            text-align: center;
        }

        .stat-number {
            font-size: 2em;
            font-weight: 700;
            color: var(--color-accent);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.85em;
            color: var(--color-text-secondary);
            font-weight: 600;
        }

        .suggestions-list {
            list-style: none;
            padding: 0;
        }

        .suggestion-item {
            padding: 15px;
            background: var(--color-bg-primary);
            border-radius: 8px;
            margin-bottom: 12px;
            border-left: 4px solid var(--color-accent);
        }

        .suggestion-item strong {
            color: var(--color-accent);
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--color-text-secondary);
        }

        .empty-state-icon {
            font-size: 3em;
            margin-bottom: 15px;
            opacity: 0.5;
        }

        .action-buttons {
            display: flex;
            gap: 12px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .info-box {
            padding: 15px;
            background: rgba(33, 128, 141, 0.1);
            border-left: 4px solid var(--color-accent);
            border-radius: 6px;
            margin-bottom: 20px;
            font-size: 0.9em;
            line-height: 1.6;
        }

        .section-divider {
            height: 1px;
            background: var(--color-border);
            margin: 25px 0;
        }

        @media (max-width: 968px) {
            .main-layout {
                grid-template-columns: 1fr;
            }

            .match-score {
                flex-direction: column;
                text-align: center;
            }

            .keyword-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üéØ Resume Keyword Optimizer</h1>
            <p>Analyze your resume against job descriptions to improve ATS compatibility and match rate</p>
        </div>

        <div class="main-layout">
            <div class="card">
                <div class="card-title">üìã Job Description</div>
                <div class="info-box">
                    üí° <strong>Tip:</strong> Paste the complete job description including requirements, qualifications, and responsibilities for best results.
                </div>
                <label class="form-label">Paste Job Description</label>
                <textarea class="form-textarea" id="jobDescription" placeholder="Paste the job description here...

Example:
We are seeking a Senior Software Engineer with 5+ years of experience in Python, JavaScript, and cloud technologies. Must have strong knowledge of AWS, Docker, Kubernetes, and microservices architecture. Experience with React, Node.js, and agile methodologies required..."></textarea>
            </div>

            <div class="card">
                <div class="card-title">üìÑ Your Resume</div>
                <div class="info-box">
                    üí° <strong>Tip:</strong> Include your complete resume text with skills, experience, education, and achievements.
                </div>
                <label class="form-label">Paste Resume Content</label>
                <textarea class="form-textarea" id="resumeText" placeholder="Paste your resume content here...

Example:
John Doe
Senior Software Developer

EXPERIENCE
Software Engineer at Tech Corp (2019-Present)
- Developed web applications using JavaScript and React
- Worked with AWS and Docker for deployment
- Collaborated in agile teams..."></textarea>
            </div>

            <div class="full-width">
                <button class="btn btn-primary" onclick="analyzeResume()">
                    üîç Analyze Resume
                </button>
            </div>

            <div class="full-width card" id="resultsSection" style="display: none;">
                <div class="card-title">üìä Analysis Results</div>

                <div class="match-score" id="matchScore">
                    <div class="score-circle">
                        <div class="score-number" id="scoreNumber">0%</div>
                        <div class="score-label">Match Score</div>
                    </div>
                    <div class="score-details">
                        <h3>Overall Match Rating</h3>
                        <div class="score-bar">
                            <div class="score-bar-fill" id="scoreBarFill" style="width: 0%"></div>
                        </div>
                        <p id="scoreMessage">Your resume matches the job requirements</p>
                    </div>
                </div>

                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-number" id="matchedCount">0</div>
                        <div class="stat-label">Keywords Matched</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="missingCount">0</div>
                        <div class="stat-label">Keywords Missing</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="totalKeywords">0</div>
                        <div class="stat-label">Total Keywords</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-number" id="resumeWords">0</div>
                        <div class="stat-label">Resume Words</div>
                    </div>
                </div>

                <div class="section-divider"></div>

                <div class="keyword-section">
                    <h3 style="margin-bottom: 15px; color: var(--color-success);">‚úÖ Matched Keywords</h3>
                    <div class="keyword-grid" id="matchedKeywords">
                        <div class="empty-state">
                            <div class="empty-state-icon">‚úÖ</div>
                            <p>No matched keywords yet</p>
                        </div>
                    </div>
                </div>

                <div class="section-divider"></div>

                <div class="keyword-section">
                    <h3 style="margin-bottom: 15px; color: var(--color-danger);">‚ùå Missing Keywords</h3>
                    <div class="keyword-grid" id="missingKeywords">
                        <div class="empty-state">
                            <div class="empty-state-icon">‚ùå</div>
                            <p>No missing keywords</p>
                        </div>
                    </div>
                </div>

                <div class="section-divider"></div>

                <div class="keyword-section">
                    <h3 style="margin-bottom: 15px;">üí° Optimization Suggestions</h3>
                    <ul class="suggestions-list" id="suggestions"></ul>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-secondary" onclick="exportReport()">
                        üì• Export Report
                    </button>
                    <button class="btn btn-secondary" onclick="copyMissingKeywords()">
                        üìã Copy Missing Keywords
                    </button>
                    <button class="btn btn-secondary" onclick="resetAnalysis()">
                        üîÑ Reset
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const commonWords = new Set(['the', 'be', 'to', 'of', 'and', 'a', 'in', 'that', 'have', 'i', 'it', 'for', 'not', 'on', 'with', 'he', 'as', 'you', 'do', 'at', 'this', 'but', 'his', 'by', 'from', 'they', 'we', 'say', 'her', 'she', 'or', 'an', 'will', 'my', 'one', 'all', 'would', 'there', 'their', 'what', 'so', 'up', 'out', 'if', 'about', 'who', 'get', 'which', 'go', 'me', 'when', 'make', 'can', 'like', 'time', 'no', 'just', 'him', 'know', 'take', 'people', 'into', 'year', 'your', 'good', 'some', 'could', 'them', 'see', 'other', 'than', 'then', 'now', 'look', 'only', 'come', 'its', 'over', 'think', 'also', 'back', 'after', 'use', 'two', 'how', 'our', 'work', 'first', 'well', 'way', 'even', 'new', 'want', 'because', 'any', 'these', 'give', 'day', 'most', 'us', 'is', 'was', 'are', 'been', 'has', 'had', 'were', 'said', 'did', 'having', 'may', 'should', 'am', 'being', 'does']);

        function extractKeywords(text) {
            const words = text.toLowerCase()
                .replace(/[^\w\s+#.-]/g, ' ')
                .split(/\s+/)
                .filter(word => word.length > 2 && !commonWords.has(word));

            const phrases = [];
            const tokens = text.toLowerCase().match(/\b[\w+#.-]+(?:\s+[\w+#.-]+){0,2}\b/g) || [];
            
            tokens.forEach(phrase => {
                const trimmed = phrase.trim();
                if (trimmed.length > 3 && !commonWords.has(trimmed) && trimmed.split(/\s+/).length <= 3) {
                    phrases.push(trimmed);
                }
            });

            const frequency = {};
            
            words.forEach(word => {
                frequency[word] = (frequency[word] || 0) + 1;
            });

            phrases.forEach(phrase => {
                if (phrase.split(/\s+/).length > 1) {
                    frequency[phrase] = (frequency[phrase] || 0) + 2;
                }
            });

            const sorted = Object.entries(frequency)
                .sort((a, b) => b[1] - a[1])
                .slice(0, 50)
                .map(([word, count]) => ({ word, count }));

            return sorted;
        }

        function checkKeywordMatch(keyword, resumeText) {
            const normalizedResume = resumeText.toLowerCase();
            const normalizedKeyword = keyword.toLowerCase();
            
            const exactMatch = normalizedResume.includes(normalizedKeyword);
            
            if (exactMatch) {
                const regex = new RegExp('\\b' + normalizedKeyword.replace(/[.*+?^${}()|[\]\\]/g, '\\$&') + '\\b', 'gi');
                const matches = normalizedResume.match(regex);
                return { matched: true, count: matches ? matches.length : 1, partial: false };
            }

            const keywordParts = normalizedKeyword.split(/\s+/);
            if (keywordParts.length > 1) {
                const allPartsPresent = keywordParts.every(part => normalizedResume.includes(part));
                if (allPartsPresent) {
                    return { matched: true, count: 1, partial: true };
                }
            }

            return { matched: false, count: 0, partial: false };
        }

        function analyzeResume() {
            const jobDesc = document.getElementById('jobDescription').value.trim();
            const resume = document.getElementById('resumeText').value.trim();

            if (!jobDesc || !resume) {
                alert('Please fill in both the job description and your resume.');
                return;
            }

            const jobKeywords = extractKeywords(jobDesc);
            
            const matched = [];
            const missing = [];

            jobKeywords.forEach(({ word, count }) => {
                const result = checkKeywordMatch(word, resume);
                if (result.matched) {
                    matched.push({ word, count: result.count, partial: result.partial });
                } else {
                    missing.push({ word, count });
                }
            });

            const matchScore = Math.round((matched.length / jobKeywords.length) * 100);
            const resumeWordCount = resume.split(/\s+/).length;

            displayResults(matchScore, matched, missing, jobKeywords.length, resumeWordCount);
        }

        function displayResults(score, matched, missing, total, resumeWords) {
            document.getElementById('resultsSection').style.display = 'block';
            
            document.getElementById('scoreNumber').textContent = score + '%';
            document.getElementById('scoreBarFill').style.width = score + '%';
            document.getElementById('matchedCount').textContent = matched.length;
            document.getElementById('missingCount').textContent = missing.length;
            document.getElementById('totalKeywords').textContent = total;
            document.getElementById('resumeWords').textContent = resumeWords;

            let message = '';
            if (score >= 80) {
                message = 'üéâ Excellent match! Your resume is well-optimized for this role.';
            } else if (score >= 60) {
                message = 'üëç Good match! Consider adding a few more keywords.';
            } else if (score >= 40) {
                message = '‚ö†Ô∏è Fair match. Add more relevant keywords to improve.';
            } else {
                message = '‚ùå Low match. Significant optimization needed.';
            }
            document.getElementById('scoreMessage').textContent = message;

            const matchedContainer = document.getElementById('matchedKeywords');
            if (matched.length > 0) {
                matchedContainer.innerHTML = matched.map(({ word, count, partial }) => `
                    <div class="keyword-tag ${partial ? 'keyword-partial' : 'keyword-matched'}">
                        <span class="keyword-name">${word}</span>
                        <span class="keyword-count">${count}√ó</span>
                    </div>
                `).join('');
            } else {
                matchedContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">‚úÖ</div>
                        <p>No matched keywords found</p>
                    </div>
                `;
            }

            const missingContainer = document.getElementById('missingKeywords');
            if (missing.length > 0) {
                missingContainer.innerHTML = missing.map(({ word, count }) => `
                    <div class="keyword-tag keyword-missing">
                        <span class="keyword-name">${word}</span>
                        <span class="keyword-count">${count}√ó</span>
                    </div>
                `).join('');
            } else {
                missingContainer.innerHTML = `
                    <div class="empty-state">
                        <div class="empty-state-icon">üéâ</div>
                        <p>All keywords matched!</p>
                    </div>
                `;
            }

            generateSuggestions(score, matched, missing);

            document.getElementById('resultsSection').scrollIntoView({ behavior: 'smooth' });
        }

        function generateSuggestions(score, matched, missing) {
            const suggestions = [];

            if (score < 40) {
                suggestions.push('<strong>Critical:</strong> Your resume has very low keyword match. Consider rewriting sections to include more relevant terms from the job description.');
            }

            if (missing.length > 10) {
                const topMissing = missing.slice(0, 5).map(k => k.word).join(', ');
                suggestions.push(`<strong>Add Key Terms:</strong> Focus on incorporating these high-priority keywords: ${topMissing}`);
            }

            if (missing.some(k => k.word.length > 15)) {
                suggestions.push('<strong>Technical Terms:</strong> Several technical terms or certifications are missing. Add relevant qualifications if you possess them.');
            }

            if (matched.length < 10) {
                suggestions.push('<strong>Expand Experience:</strong> Add more details to your work experience that align with job requirements.');
            }

            const lowFrequency = matched.filter(k => k.count === 1).length;
            if (lowFrequency > matched.length * 0.7) {
                suggestions.push('<strong>Repetition:</strong> Many keywords appear only once. Naturally incorporate important terms multiple times throughout your resume.');
            }

            if (missing.some(k => ['certification', 'degree', 'bachelor', 'master', 'phd'].includes(k.word))) {
                suggestions.push('<strong>Education & Certifications:</strong> Ensure your education section and certifications are prominently listed.');
            }

            if (score >= 60 && score < 80) {
                suggestions.push('<strong>Fine-tuning:</strong> You\'re close! Review the missing keywords and add the most relevant ones to your skills or experience sections.');
            }

            if (score >= 80) {
                suggestions.push('<strong>Excellent Work!</strong> Your resume is well-optimized. Consider tailoring your summary or objective to further emphasize your fit for this role.');
            }

            suggestions.push('<strong>ATS Compatibility:</strong> Use standard section headings (Experience, Education, Skills) and avoid tables or complex formatting.');
            suggestions.push('<strong>Action Verbs:</strong> Start bullet points with strong action verbs that match the job description\'s language.');

            const suggestionsContainer = document.getElementById('suggestions');
            suggestionsContainer.innerHTML = suggestions.map(s => `<li class="suggestion-item">${s}</li>`).join('');
        }

        function copyMissingKeywords() {
            const missingContainer = document.getElementById('missingKeywords');
            const keywords = Array.from(missingContainer.querySelectorAll('.keyword-name'))
                .map(el => el.textContent)
                .join(', ');

            if (keywords) {
                navigator.clipboard.writeText(keywords).then(() => {
                    alert('Missing keywords copied to clipboard!');
                });
            } else {
                alert('No missing keywords to copy.');
            }
        }

        function exportReport() {
            const score = document.getElementById('scoreNumber').textContent;
            const matched = document.getElementById('matchedCount').textContent;
            const missing = document.getElementById('missingCount').textContent;
            const total = document.getElementById('totalKeywords').textContent;

            const matchedKeywords = Array.from(document.getElementById('matchedKeywords').querySelectorAll('.keyword-name'))
                .map(el => el.textContent)
                .join(', ');

            const missingKeywords = Array.from(document.getElementById('missingKeywords').querySelectorAll('.keyword-name'))
                .map(el => el.textContent)
                .join(', ');

            const report = `Resume Keyword Analysis Report
================================

Match Score: ${score}
Keywords Matched: ${matched}
Keywords Missing: ${missing}
Total Keywords Analyzed: ${total}

MATCHED KEYWORDS
----------------
${matchedKeywords || 'None'}

MISSING KEYWORDS
----------------
${missingKeywords || 'None'}

Generated by Resume Keyword Optimizer
Date: ${new Date().toLocaleString()}
`;

            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'resume-analysis-report.txt';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        function resetAnalysis() {
            if (confirm('Reset analysis? This will clear all results.')) {
                document.getElementById('resultsSection').style.display = 'none';
                document.getElementById('jobDescription').value = '';
                document.getElementById('resumeText').value = '';
            }
        }
    </script>
</body>
</html>
